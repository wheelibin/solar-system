(this["webpackJsonpsolar-system"]=this["webpackJsonpsolar-system"]||[]).push([[0],{114:function(e,t,a){},119:function(e,t,a){},121:function(e,t,a){},354:function(e,t,a){"use strict";a.r(t);a(113),a(114);var i,n=a(18),s=a.n(n),r=a(106),o=a.n(r),l=a(25),c=(a(119),a(9)),h=["annihilating","balancing","charging","colliding","combining","dispatching","exciting","firing","generating","initialising","inflating","isolating ","manifesting","measuring","mining","normalising","randomising","scintilating","stabilising","televising","unifying"],u=["asynchronous","correlating","crystaline","high-energy","homologous","isomorphic","molecular","multi-valent ","non-interacting","resonant","self-coupling","subatomic","supersymmetrical","superconductive","synchronous","unstable","vibrational","zero-spin"],d=["astral fields","atomic gases","bose-einstein condensate","consciousness","design elements","elementry particles","gravity wells","harmonics","higgs field","light quanta","meson clouds","neutron masses","phase transitions","photons","physics","plasma","quantum states","relativistic speeds","scalar fields","singularities","space-time fragmentation","string theory","superfluids","vector bosons","warp fields","wave functions"],p=function(e){return e[(t=0,a=e.length-1,Math.floor(Math.random()*(a-t+1)+t))];var t,a},m=function(e){return e.show?Object(c.jsx)("div",{className:"loading-indicator",children:"".concat(p(h)," ").concat(p(u)," ").concat(p(d),"...")}):null},g=(a(121),function(e){var t=e.planet;if(!t)return null;var a=[["Name",t.name],["Diameter (km)",(2*t.radius).toLocaleString()],["Moons",t.satellites.length],["Orbit Distance (km)",t.orbitRadius.toLocaleString()],["Orbital Speed (km/h)",Math.floor(t.orbitSpeed).toLocaleString()],["Orbital Inclanation (\xb0)",t.orbitInclanation]];return Object(c.jsxs)("div",{className:"planet-datasheet",children:[Object(c.jsx)("h2",{children:"Planet Info"}),Object(c.jsx)("ul",{className:"planet-datasheet__property-list",children:a.map((function(e){return Object(c.jsxs)("li",{className:"planet-datasheet__property",children:[Object(c.jsx)("strong",{children:e[0]}),Object(c.jsx)("p",{children:e[1]})]},e[0])}))})]})}),b=function(e){var t=e.solarSystemApp,a=Object(n.useState)(!0),i=Object(l.a)(a,2),s=i[0],r=i[1],o=Object(n.useState)(void 0),h=Object(l.a)(o,2),u=h[0],d=h[1];Object(n.useEffect)((function(){t.init(!1),t.onInitialising=p,t.onInitialised=b,t.onSelectPlanet=y}),[t]);var p=function(){r(!0)},b=function(){r(!1)},y=function(e){d(e)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(m,{show:s}),Object(c.jsx)(g,{planet:u})]})},y=a(58),f=a(10),v=a(13),x=a(8),w=a.n(x),S=a(6),k=a(14),O=a(0),P=a(4),j=a(16),A=a(107),C=a.n(A),R=a(108),M=a(109),T=a(110),L=a(1);!function(e){e[e.Star=0]="Star",e[e.Planet=1]="Planet",e[e.Moon=2]="Moon",e[e.AsteroidBelt=3]="AsteroidBelt"}(i||(i={}));var H=["Acanthis","Achelous","Acheron","Achilles","Achilles","Achlys","Actaeon","Admetus","Adoni","Aeacus","A\xebdon","Ae\xebtes","Aegisthus","Aegyptus","Aella","Aello","Aeneas","Aeolus","Aeternae","Aethon","Agamemnon","Aglaia","Agreus","Agriopas","Agrius","Ajax","Alcestis","Alcyone","Alcyoneus","Alecto","Alectryon","Alkyonides","Almops","Aloadae","Althaea","Amazon","Amazons","Ampelos","Amphion","Amphisbaena","Amphithemis","Amphitrite","Amphitryon","Amycus","Anchises","Andromache","Andromeda","Anteros","Antigone","Antino\xfcs","Antiphates","Aphrodit","Aphrodite","Apollo","Aquilo","Arachne","Arae","Ares","Arges","Argo","Argos","Argus","Argus","Ariadne","Arion","Arion","Artemi","Artemis","Asbolus","Ascalaphus","Asclepiu","Asclepius","Astarte","Asterius","Astraea","Atalanta","Atalanta","Athen","Athena","Athos","Atlas","Atreus","Atropos","Aurora","Auster","Autonous","Avernus","Bacchus","Balius","Bellerophon","Bellona","Bienor","Boreas","Briareus","Cadmus","Calliope","Calypso","Carduelis","Cassandra","Castor","Catoblepas","Celaeno","Centaur","Centauride","Centauromachy","Centaurs","Centaurus","Cephalus","Cepheus","Ceramici","Cerastes","Cerberus","Cercopes","Ceres","Cetus","Ceuthonymus","Ceyx","Chaos","Charon","Charybdis","Chimera","Chiron","Chiron","Chryseis","Chthonius","Circe","Clio","Clotho","Clytemnestra","Cornix","Coronis","Corvus","Crocotta","Crommyon","Cronu","Cronus","Cyclopes","Cycnus","Cyllarus","Cyprus","Daedalus","Daemons","Damarchus","Damysus","Danae","Dana\xefdes","Dana\xfcs","Daphne","Demete","Dictys","Dido","Diomedes","Dione","Dionysu","Dionysus","Dioscuri","Dryad","Dryads","Echion","Echo","Eidolon","Elatus","Electra","Empousa","Empusa","Enceladus","Endymion","Enyo","Eo","Eos","Erato","Erebus","Eridanos","Erigone","Erinyes","Eris","Ero","Eros","Eteocles","Euphrosyne","Europa","Eurus","Euryale","Eurydice","Eurynomos","Eurystheus","Eurytion","Eurytus","Euterpe","Fates","Fauns","Faunus","Favonius","Flora","Fortuna","Furie","Furies","Gadflies","Gaea","Gaia","Galatea","Ganymede","Gegenees","Gello","Gerana","Geryon","giant","Giantess","Gigantes","Golden Fleece","Gorgons","Graces","Graeae","Graeae","Griffin","Hade","Hades","Hades","halcyons","Hamadryads","Harpies","Heb","Hecate","Hecate","Hecatonchires","Hector","Hecuba","Helen","Helio","Helios","Helle","Hellhound","Hephaestu","Hephaestus","Hera","Hera","Heracles","Hercules","Herme","Hero","heroes","Hesperus","Hesti","Hestia","Hieracosphinx","Hippalectryon","Hippocampus","Hippodamia","Hippolyte","Hippolytus","Hippomenes","Hoopoe","Hyacinthus","Hydra","Hylaeus","Hylonome","Hyperion","Hypno","Hypnos","Iapetus","Icarus","Ichthyocentaurs","Io","Iobates","Ionia","Iphigenia","Ipotane","Iris","Ismene","Ixion","Janus","Jocasta","Juno","Jupiter","Juventas","Keres","Kobaloi","Labour","Ladon","Laelaps","Laestrygonians","Laius","Lamia","Lamiai","Lamos","Laoco\xf6n","Lapiths","Lares","Lark","Latona","Lavinia","Leda","Lerna","Lernaean Hydra","Let","Lethe","Leto","Lycaon","Lykaia","Maera","Maia","Manes","Manticore","Marsyas","Medea","Medea","Medusa","Megaera","Meleager","Melpomene","Memnon","Menelaus","Menoetes","Menoetius","Mentor","Merope","Midas","Mimas","Minerva","Minos","Minotaur","Mnemosyne","Momus","Monocerata","Mormo","Mormolykeia","Morpheus","Mors","Muse","Muses","Myrmekes","Mysia","Naiads","Napaeae","Narcissus","Nemea","Nemesis","Neoptolemus","nereid","Nessus","Nestor","Nestor","Nike","Niobe","Nomios","Notus","Ny","Nyctimene","Nyctimus","Nymphs","Nyx","Oceanids","Oceanu","Oceanus","Ocypete","Odontotyrannos","Odysseu","Odysseus","Oedipus","Oenoe","Oenone","Onocentaur","Ophiotaurus","Ops","Orestes","Orion","Orpheus","Orthrus","Ouroboros","Pa","Pallas","Pan","Pan","Pandora","Panes","panthers","Parcae","Paris","Parrhasia","Pasipha\xeb","Patroclus","Pegasus","Pegasus","Pelias","Pelops","Penates","Penelope","Periboea","Perimedes","Persephon","Persephone ","Perseus","Phaedra","Phaethon","Phaethon","Philoctetes","Philomela","Phineus","Phlegethon","Phoenix","Ph\xf3los","Pirithous","Pleiades","Plut","Pollux","Polybotes","Polyhymnia","Polymnia","Polynices","Polyphemus","Polyphemus","Polyxena","Pontus","Porphyrion","Poseido","Poseidon","Priam","Priapus","Procne","Procrustes","Prometheus","Proserpine","Proteus","Psyche","Pygmalion","Pyramus","Python","Quirinus","Rhadamanthus","Rhaecus","Rhe","Rhea","Romulus","Sarpedon","Saturn","Satyresses","Satyrs","Scylla","Selene","Semele","Sileni","Silenus","Silvanus","Siren","Sirens","Sisyphus","Sol","Somnus","Sphinx","Sterop","Stheno","Strix","Styx","Symplegades","Syrinx","Talos","Tantalus","Taras","Taraxippi","Tartarus","Telemachus","Tellus","Tereus","Terminus","Terpsichore","Thalia","Thanato","Thanatos","Thaumas","Themis","Theseus","Thisbe","Thoon","Thrace","Thyestes","Tiresias","Tisiphone","Titans","Tithonus","Tityos","Triton","Trojan","Turnus","Typhon","Ulysses","Urania","Uranus","Venus","Vesta","Virgil","Vulcan","Xanthus","Zephyrus","Zeu","Zeus"],I=a(111),E=a.n(I),D=function(){function e(){Object(O.a)(this,e)}return Object(L.a)(e,null,[{key:"getRandom",value:function(e){return E.a.factory({seed:e})()/4294967295}},{key:"getRandomInt",value:function(t,a,i){return Math.floor(e.getRandom(i)*(a-t+1)+t)}},{key:"getRandomFloat",value:function(t,a,i){return e.getRandom(i)*(a-t)+t}},{key:"coinToss",value:function(t){return e.getRandom(t)<=.5}},{key:"getRandomFromArray",value:function(e,t){return e[this.getRandomInt(0,e.length-1,t)]}},{key:"getRandomPointInSphere",value:function(e,t,a,i){t||(t=0),a||(a=0),i||(i=0);var n=Math.random(),s=Math.random(),r=2*Math.PI*n,o=Math.acos(1-2*s);return[t+e*Math.sin(o)*Math.cos(r),a+e*Math.sin(o)*Math.sin(r),i+e*Math.cos(o)]}}]),e}(),F=2440,N=69911,V=59223859,G=4498438348,B=172331,z=384400,_=1882709,W=62400,q=414e5,J=200,U=530,Q=55039e4,Z=0,K=1,Y=2,X=4,$=6,ee=7,te=8,ae=9,ie=10,ne=11,se=12,re=13,oe=14,le=15,ce=function(){function e(t){Object(O.a)(this,e),this.entityId=0,this.seed=void 0,this.solarSystem={stars:[]},this.seed=t}return Object(L.a)(e,[{key:"getNextId",value:function(){return this.entityId++,this.entityId}},{key:"generate",value:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:695508,a=[{entityType:i.Star,id:this.getNextId(),name:"Star ".concat(this.entityId),seed:[this.seed,0],position:[0,0,0],radius:t,terrainHeight:0,satellites:[],orbitEntityId:0,orbitRadius:0,orbitSpeed:0,orbitDirection:0,orbitInclanation:0,orbitStartPosition:0,spinSpeed:D.getRandomFloat(1e-4,3e-4,[this.seed,0].concat([$])),spinDirection:D.coinToss([this.seed,0].concat([ie]))?1:-1}],n=0;n<a.length;n++){for(var s=a[n],r=[this.seed,n],o=D.getRandomInt(1,9,[].concat(r,[ee])),l=this.createPlanetOrbitRadiuses(o,r),c=function(t){for(var a=[e.seed,n,t],r=D.getRandomInt(F,2*N,[].concat(a,[Z])),c=e.createPlanet(t,a,r,o,l[t],s),h=D.getRandomInt(1,10,[].concat(a,[ee])),u=new Array(h).fill(null).map((function(e,t){return D.getRandomInt(z,_,[].concat(a,[te,t]))})).sort((function(e,t){return e-t})),d=0;d<h;d++){var p=[e.seed,n,t,d],m=D.getRandomInt(r/12,r/3,[].concat(p,[Z])),g=e.createMoon(d,p,m,u[d],h);c.satellites.push(g)}var b,y=Object(v.a)(c.satellites);try{for(y.s();!(b=y.n()).done;){var f=b.value,x=1.5-f.orbitRadius/c.satellites[c.satellites.length-1].orbitRadius;f.orbitSpeed=x*W}}catch(O){y.e(O)}finally{y.f()}if(s.satellites.push(c),t<o-1&&s.satellites.every((function(e){return e.entityType===i.Planet}))){var w=l[t],S=l[t+1],k=D.getRandomInt(500,2e3,[].concat(a,[t,le]));S-w>Q&&s.satellites.push({entityType:i.AsteroidBelt,id:e.getNextId(),name:"",seed:[].concat(a,[t]),radius:J,maxRadius:U,terrainHeight:1,satellites:[],orbitEntityId:s.id,orbitRadius:w+(S-w)/2,orbitDirection:1,orbitSpeed:1,orbitInclanation:0,orbitStartPosition:0,spinSpeed:0,spinDirection:1,itemCount:k})}},h=0;h<o;h++)c(h);var u,d=Object(v.a)(s.satellites);try{for(d.s();!(u=d.n()).done;){var p=u.value,m=p.orbitRadius,g=s.satellites[s.satellites.length-1].orbitRadius,b=1.5-m/g;p.positionInSystem=m/g,p.orbitSpeed=b*B}}catch(y){d.e(y)}finally{d.f()}this.solarSystem.stars.push(s)}return this.solarSystem}},{key:"createPlanetOrbitRadiuses",value:function(e,t){for(var a=new Array(e).fill(null).map((function(e,a){return D.getRandomInt(V,G,[].concat(Object(S.a)(t),[te,a]))})).sort((function(e,t){return e-t})),i=0;i<a.length-1;i++){var n=a[i],s=a[i+1]-n;if(s<q)for(var r=i+1;r<a.length;r++)a[r]+=q-s}return a}},{key:"createMoon",value:function(e,t,a,n,s){var r=D.coinToss([].concat(Object(S.a)(t),[X]))?1:-1,o=D.getRandomFloat(.001,.005,[].concat(Object(S.a)(t),[$]));return{entityType:i.Moon,id:this.getNextId(),name:"Moon ".concat(e+1),seed:t,radius:a,terrainHeight:D.getRandom([].concat(Object(S.a)(t),[K])),orbitEntityId:-1,orbitRadius:n,orbitDirection:r,orbitSpeed:(s-e)/s,orbitInclanation:D.getRandomInt(0,45,[].concat(Object(S.a)(t),[ae])),orbitStartPosition:D.getRandom([].concat(Object(S.a)(t),[ne])),spinSpeed:o,spinDirection:D.coinToss([].concat(Object(S.a)(t),[ie]))?1:-1,rgb:he([].concat(Object(S.a)(t),[Y])),satellites:[]}}},{key:"createPlanet",value:function(e,t,a,n,s,r){var o=D.coinToss([].concat(Object(S.a)(t),[X]))?1:-1,l=D.getRandomFloat(.002,.006,[].concat(Object(S.a)(t),[$])),c=D.getRandomFromArray(H,[].concat(Object(S.a)(t),[se]));return{entityType:i.Planet,id:this.getNextId(),name:c,seed:t,radius:a,terrainHeight:1,orbitEntityId:r.id,orbitRadius:s,orbitDirection:o,orbitSpeed:(n-e)/n,orbitInclanation:D.getRandomInt(0,15,[].concat(Object(S.a)(t),[ae])),orbitStartPosition:D.getRandom([].concat(Object(S.a)(t),[ne])),spinSpeed:l,spinDirection:D.coinToss([].concat(Object(S.a)(t),[ie]))?1:-1,satellites:[]}}}]),e}(),he=function(e){return[D.getRandomFloat(.6,1,[].concat(Object(S.a)(e),[0])),D.getRandomFloat(.6,1,[].concat(Object(S.a)(e),[1])),D.getRandomFloat(.6,1,[].concat(Object(S.a)(e),[2]))]},ue=a(2),de=a(3),pe=a(112),me=function(){function e(t){Object(O.a)(this,e),this.noiseGenerator=void 0,this.noiseGenerator=new pe.a(t)}return Object(L.a)(e,[{key:"generateNoiseMap",value:function(e,t){for(var a=[],i=0;i<e;i++){a[i]=[];for(var n=0;n<t;n++){var s=this.getMixedFrequencyNoise(i,n,[.01,.02,.04,.08,.16,.32,.64,1.28]);s=Math.pow(s,2.3),a[i][n]=s}}return this.makeSeamlessVertically(a,.2*t),this.makeSeamlessHorizontally(a,.05*e),a}},{key:"getNoise",value:function(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=a*e+i,r=a*t+n,o=1/a,l=this.noiseGenerator.noise2D(s,r)/2+.5,c=o*l;return c}},{key:"getMixedFrequencyNoise",value:function(e,t,a){var i=this,n=0;return a.reduce((function(a,s,r){n+=1/s;var o=10*r,l=100*r;return a+i.getNoise(e,t,s,o,l)}),0)/n}},{key:"makeSeamlessHorizontally",value:function(e,t){for(var a=e.length,i=e[0].length,n=0;n<t;n++)for(var s=n/t,r=0;r<i;r++){var o=~~(a-t+n);e[o][r]=P.q.lerp(e[o][r],e[~~(t-n)][r],s)}}},{key:"makeSeamlessVertically",value:function(e,t){for(var a=e.length,i=e[0].length,n=0;n<t;n++)for(var s=Math.ceil(t-n),r=0;r<a;r++){for(var o=0,l=0,c=0,h=r-s;h<r+s;h++)h<0||h>=a||(o+=e[h][n],l+=e[h][i-n-1],c++);e[r][n]=o/c,e[r][i-n-1]=l/c}}}]),e}(),ge=function(){function e(t,a){Object(O.a)(this,e),this.entity=void 0,this.params=void 0,this.radius=void 0,this.sphere=void 0,this.orbit=void 0,this.textureWidth=void 0,this.textureHeight=void 0,this.maxTerrainHeight=void 0,this.material=void 0,this.heightMapTexture=void 0,this.colourMapTexture=void 0,this.loader=new P.F,this.sphereGeometry=void 0,this.orbitGeometry=void 0,this.texture=void 0,this.labelContext=void 0,this.labelTexture=void 0,this.labelSprite=void 0,this.labelScaleVector=new P.H,this.labelAspectRatio=void 0,this.radius=t,this.params=a,this.entity=new P.l,this.textureWidth=512,this.textureHeight=256}return Object(L.a)(e,[{key:"create",value:function(){var e=Object(k.a)(w.a.mark((function e(){var t,a,i,n,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.params.terrainHeight&&this.params.terrainHeight>0)){e.next=10;break}t=this.generateTerrainMaps(),this.heightMapTexture=new P.e(t.heightMap.canvas),this.colourMapTexture=new P.e(t.map.canvas),this.heightMapTexture.mapping=P.i,this.colourMapTexture.mapping=P.i,a=Math.ceil(this.params.terrainHeight*this.maxTerrainHeight),this.material=new P.u({bumpMap:this.heightMapTexture,bumpScale:a,map:this.colourMapTexture,displacementMap:this.heightMapTexture,displacementScale:a,shininess:0,specular:0}),e.next=18;break;case 10:if(!this.params.texturePath){e.next=17;break}return e.next=13,this.loader.loadAsync(this.params.texturePath);case 13:this.texture=e.sent,this.material=new P.t({map:this.texture,color:this.params.colour}),e.next=18;break;case 17:this.material=new P.t({color:this.params.colour});case 18:return this.sphereGeometry=new P.z(this.radius,64,48),this.sphere=new P.s(this.sphereGeometry,this.material),this.sphere.castShadow=!!this.params.castShadow,this.sphere.receiveShadow=!!this.params.receiveShadow,this.params.hasLabel&&this.addLabel(),this.entity.add(this.sphere),this.params.orbitEntity&&(i=this.params.orbitEntity.sphere.position,n=this.params.orbitRadius,s=this.createOrbitCircle(n),this.entity.add(s),this.sphere.position.set(n,0,0),this.entity.position.set(i.x,i.y,i.z),this.entity.rotation.x=P.q.degToRad(this.params.orbitInclanation),this.entity.rotation.y=P.q.degToRad(360*this.params.orbitStartPosition)),e.abrupt("return",this);case 26:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"animate",value:function(e,t,a,i){if(e.getElapsedTime(),this.params.orbitEntity){var n=this.params.orbitSpeed/60/60/60*t,s=this.params.orbitDirection;this.entity.rotation.y+=n*s}if(this.params.spinSpeed){var r=this.params.spinSpeed/60/60/60;this.sphere.rotation.y+=r*t*this.params.spinDirection}if(this.params.hasLabel&&(this.labelSprite.visible=i,i)){var o=this.labelScaleVector.subVectors(this.sphere.position,a.position).length()/24;this.labelSprite.scale.set(o,o*this.labelAspectRatio,1),this.labelSprite.position.y=this.radius}}},{key:"show",value:function(){this.params.onShow&&this.params.onShow(this.params.id)}},{key:"dispose",value:function(){var e,t,a,i,n,s,r,o;null===(e=this.sphereGeometry)||void 0===e||e.dispose(),null===(t=this.orbitGeometry)||void 0===t||t.dispose(),null===(a=this.orbit)||void 0===a||a.dispose(),null===(i=this.material)||void 0===i||i.dispose(),null===(n=this.heightMapTexture)||void 0===n||n.dispose(),null===(s=this.colourMapTexture)||void 0===s||s.dispose(),null===(r=this.texture)||void 0===r||r.dispose(),null===(o=this.labelTexture)||void 0===o||o.dispose(),this._dispose()}},{key:"generateTerrainMaps",value:function(){for(var e=this.getCanvasContext(),t=e.createImageData(this.textureWidth,this.textureHeight),a=t.data,i=this.getCanvasContext(),n=i.createImageData(this.textureWidth,this.textureHeight),s=n.data,r=[].concat(Object(S.a)(this.params.seed),[99999]).reduce((function(e,t){return e+t})),o=new me(r).generateNoiseMap(this.textureWidth,this.textureHeight),l=0;l<a.length;l+=4){for(var c=l/4%this.textureWidth,h=~~(l/4/this.textureWidth),u=255*o[c][h],d=[u,u,u,255],p=0;p<d.length;p++)a[l+p]=d[p];for(var m=this.getMapColour(u,h),g=0;g<m.length;g++)s[l+g]=m[g]}return e.putImageData(t,0,0),i.putImageData(n,0,0),{heightMap:e,map:i}}},{key:"getRangeColour",value:function(e,t){return this.lerpColour(e.dark,e.light,(t-e.min)/(e.max-e.min))}},{key:"lerpColour",value:function(e,t,a){var i=this.convertToColor(e).lerp(this.convertToColor(t),a);return[].concat(Object(S.a)(i.toArray()),[255])}},{key:"convertToColor",value:function(e){return(new P.g).setRGB(e[0],e[1],e[2])}},{key:"getCanvasContext",value:function(){var e=document.createElement("canvas").getContext("2d");return e.canvas.width=this.textureWidth,e.canvas.height=this.textureHeight,e.fillStyle="#fff",e.fillRect(0,0,e.canvas.width,e.canvas.height),e}},{key:"createOrbitCircle",value:function(e){this.orbitGeometry=new P.c;var t=[];this.orbit=new P.o({color:6710886,opacity:1,transparent:!1});for(var a=0;a<=128;a++){var i=a/128*Math.PI*2;t.push(Math.cos(i)*e,0,Math.sin(i)*e)}var n=new Float32Array(t);return this.orbitGeometry.setAttribute("position",new P.b(n,3)),new P.n(this.orbitGeometry,this.orbit)}},{key:"addLabel",value:function(){this.labelContext=document.createElement("canvas").getContext("2d");this.labelContext.canvas.width=384,this.labelContext.canvas.height=384,this.labelContext.font="".concat(44,"pt 'Lucida Grande', sans-serif"),this.labelAspectRatio=this.labelContext.canvas.height/this.labelContext.canvas.width,this.labelContext.fillStyle="white",this.labelContext.textAlign="center",this.labelContext.fillText(this.params.name,this.labelContext.canvas.width/2,45),this.labelTexture=new P.E(this.labelContext.canvas),this.labelTexture.needsUpdate=!0;var e=new P.C({map:this.labelTexture,transparent:!0});this.labelSprite=new P.B(e),this.sphere.add(this.labelSprite)}}]),e}(),be=function(e){Object(ue.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(O.a)(this,a);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).maxTerrainHeight=5,e}return Object(L.a)(a,[{key:"_dispose",value:function(){}},{key:"getMapColour",value:function(e,t){var a=e/128,i=this.params.colour,n=i.r,s=i.g,r=i.b,o=[Math.floor(255*n),Math.floor(255*s),Math.floor(255*r),255];return[o[0]*a,o[1]*a,o[2]*a,o[3]]}}]),a}(ge),ye=function(e){Object(ue.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(O.a)(this,a);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).maxTerrainHeight=e.radius/16,e.colours={oceanDark:e.getRandomColour(0),oceanLight:e.getRandomColour(1),beachDark:e.getRandomColour(2),beachLight:e.getRandomColour(3),forestDark:e.getRandomColour(4),forestLight:e.getRandomColour(5),jungleDark:e.getRandomColour(6),jungleLight:e.getRandomColour(7),savannahDark:e.getRandomColour(8),savannahLight:e.getRandomColour(9),desertDark:e.getRandomColour(10),desertLight:e.getRandomColour(11),snowDark:e.getRandomColour(12),snowLight:e.getRandomColour(13)},e}return Object(L.a)(a,[{key:"_dispose",value:function(){}},{key:"getMapColour",value:function(e,t){return this.getColourForHeight(e)}},{key:"getColourForHeight",value:function(e){for(var t=0,a=[{min:0,max:60,dark:this.colours.oceanDark,light:this.colours.oceanLight},{min:60,max:70,dark:this.colours.oceanLight,light:this.colours.beachLight},{min:70,max:110,dark:this.colours.forestDark,light:this.colours.forestLight},{min:110,max:120,dark:this.colours.jungleDark,light:this.colours.jungleLight},{min:120,max:140,dark:this.colours.savannahDark,light:this.colours.savannahLight},{min:120,max:150,dark:this.colours.desertDark,light:this.colours.desertLight}];t<a.length;t++){var i=a[t];if(e<i.max)return this.getRangeColour(i,e)}return this.colours.snowLight}},{key:"getRandomColour",value:function(e){var t=[].concat(Object(S.a)(this.params.seed),[e]);return[255*D.getRandomFloat(.2,1,[].concat(Object(S.a)(t),[0])),255*D.getRandomFloat(.2,1,[].concat(Object(S.a)(t),[1])),255*D.getRandomFloat(.2,1,[].concat(Object(S.a)(t),[2])),255]}}]),a}(ge),fe=function(e){Object(ue.a)(a,e);var t=Object(de.a)(a);function a(e,i){var n;return Object(O.a)(this,a),(n=t.call(this,e,i)).maxTerrainHeight=0,n.params.terrainHeight=0,n.params.texturePath="assets/sun.jpg",n}return Object(L.a)(a,[{key:"_dispose",value:function(){}},{key:"getMapColour",value:function(e,t){var a=this.params.colour,i=a.r,n=a.g,s=a.b,r=[Math.floor(255*i),Math.floor(255*n),Math.floor(255*s),255];return[r[0],r[1],r[2],r[3]]}}]),a}(ge),ve={oceanDark:[0,24,168,255],oceanLight:[0,105,148,255],beachDark:[140,129,95,255],beachLight:[221,202,146,255],forestDark:[0,66,37,255],forestLight:[0,127,72,255],jungleDark:[48,102,79,255],jungleLight:[57,122,94,255],savannahDark:[136,155,105,255],savannahLight:[165,189,126,255],desertDark:[175,175,144,255],desertLight:[198,198,167,255],snowDark:[200,200,200,255],snowLight:[255,255,255,255]},xe=function(e){Object(ue.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(O.a)(this,a);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).maxTerrainHeight=e.radius/16,e}return Object(L.a)(a,[{key:"_dispose",value:function(){}},{key:"getMapColour",value:function(e,t){return this.getColourForHeight(e)}},{key:"getColourForHeight",value:function(e){for(var t=0,a=[{min:0,max:60,dark:ve.oceanDark,light:ve.oceanLight},{min:60,max:70,dark:ve.oceanLight,light:ve.beachLight},{min:70,max:110,dark:ve.forestDark,light:ve.forestLight},{min:110,max:120,dark:ve.jungleDark,light:ve.jungleLight},{min:120,max:140,dark:ve.savannahDark,light:ve.savannahLight},{min:120,max:150,dark:ve.desertDark,light:ve.desertLight}];t<a.length;t++){var i=a[t];if(e<i.max)return this.getRangeColour(i,e)}return ve.snowLight}}]),a}(ge),we=function(e){Object(ue.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(O.a)(this,a);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).maxTerrainHeight=e.radius<10?48:e.radius/16,e}return Object(L.a)(a,[{key:"_dispose",value:function(){}},{key:"create",value:function(){var e=Object(k.a)(w.a.mark((function e(){var t,a,i,n,s,r,o,l,c,h,u,d,p,m,g,b,y,f,v,x;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.params.terrainHeight&&this.params.terrainHeight>0)){e.next=10;break}t=this.generateTerrainMaps(),this.heightMapTexture=new P.e(t.heightMap.canvas),this.colourMapTexture=new P.e(t.map.canvas),this.heightMapTexture.mapping=P.i,this.colourMapTexture.mapping=P.i,a=Math.ceil(this.params.terrainHeight*this.maxTerrainHeight),this.material=new P.u({bumpMap:this.heightMapTexture,bumpScale:a,map:this.colourMapTexture,displacementMap:this.heightMapTexture,displacementScale:a}),e.next=18;break;case 10:if(!this.params.texturePath){e.next=17;break}return e.next=13,this.loader.loadAsync(this.params.texturePath);case 13:this.texture=e.sent,this.material=new P.t({map:this.texture,color:this.params.colour}),e.next=18;break;case 17:this.material=new P.t({color:this.params.colour});case 18:for(i=D.getRandomFloat(this.radius,Number(this.params.maxRadius),[].concat(Object(S.a)(this.params.seed),[Z])),n=this.radius/i,s=Number(this.params.maxRadius)/i,this.sphereGeometry=new P.z(i,64,48),r=Number(this.params.itemCount),this.sphere=new P.m(this.sphereGeometry,this.material,r),o=this.sphere,l=new P.H,c=new P.j,h=new P.x,u=new P.H,d=new P.r,p=0;p<=r;p++)m=p/r*Math.PI*2,g=D.getRandom([].concat(Object(S.a)(this.params.seed),[Z,p])),b=Math.cos(m)*this.params.orbitRadius,y=Math.sin(m)*this.params.orbitRadius,f=D.coinToss([].concat(Object(S.a)(this.params.seed),[X,p]))?1:-1,l.x=b+b*(g%.2),l.y=this.radius*this.radius*(g%.5)*f,l.z=y+y*(g%.2),c.x=2*D.getRandom([].concat(Object(S.a)(this.params.seed),[re,p,1]))*Math.PI,c.y=2*D.getRandom([].concat(Object(S.a)(this.params.seed),[re,p,2]))*Math.PI,c.z=2*D.getRandom([].concat(Object(S.a)(this.params.seed),[re,p,3]))*Math.PI,h.setFromEuler(c),v=.5*D.getRandomFloat(n,s,[].concat(Object(S.a)(this.params.seed),[oe,p])),u.set(v,v,v),d.compose(l,h,u),o.setMatrixAt(p,d);return this.sphere.castShadow=!!this.params.castShadow,this.sphere.receiveShadow=!!this.params.receiveShadow,this.params.hasLabel&&this.addLabel(),this.entity.add(o),this.params.orbitEntity&&(x=this.params.orbitEntity.sphere.position,this.entity.position.set(x.x,x.y,x.z),this.entity.rotation.x=P.q.degToRad(this.params.orbitInclanation),this.entity.rotation.y=P.q.degToRad(360*this.params.orbitStartPosition)),this.params.orbitSpeed*=.1,e.abrupt("return",this);case 38:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMapColour",value:function(e,t){var a=e/128,i=this.params.colour,n=i.r,s=i.g,r=i.b,o=[Math.floor(255*n),Math.floor(255*s),Math.floor(255*r),255];return[o[0]*a,o[1]*a,o[2]*a,o[3]]}}]),a}(ge),Se=4e3;o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(b,{solarSystemApp:new function e(){var t,a=this;Object(O.a)(this,e),this.solarSystem=void 0,this.isRunning=!1,this.scene=void 0,this.camera=void 0,this.clock=new P.f,this.bodies=[],this.renderer=void 0,this.orbitControls=void 0,this.stats=void 0,this.showPlanetId=void 0,this.cameraInitialPosition=void 0,this.cameraLookAtTarget=new P.H(0,0,0),this.cameraPositionVector=new P.H,this.spaceTexture=void 0,this.gui=void 0,this.guiViewActionsFolder=void 0,this.guiPlanetsFolder=void 0,this.planetPositionVector=new P.H,this.ambientLight=void 0,this.pointLight=void 0,this.cameraReachedTarget=void 0,this.onInitialising=void 0,this.onInitialised=void 0,this.onSelectPlanet=void 0,this.options={seed:982174,simulationSpeed:3,showOrbits:!0,followPlanetName:"Star 1",trueScale:!1,showPlanetLabels:!1,showAsteroidBelts:!0,showStats:!0},this.buttonHandlers={resetView:function(){a.resetView()},newSeed:function(){a.options.seed=P.q.randInt(1e5,999999),a.init()},changeSeed:function(){a.init()}},this.init=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a.showPlanetId=-1,a.onInitialising&&a.onInitialising(),a.gui.updateDisplay(),a.clearScene(),e&&(a.solarSystem=new ce(a.options.seed).generate()),a.options.showPlanetLabels=a.options.trueScale,a._init().then((function(){a.resetView(),a.animate(),a.onInitialised&&a.onInitialised()}))},this._init=Object(k.a)(w.a.mark((function e(){var t,n,s,r,o,l,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.showPlanetId=-1,a.pointLight=new P.w(16244886,1),t=.15,a.options.trueScale?(a.pointLight.power=105e12,a.renderer.physicallyCorrectLights=!0,a.pointLight.decay=2,t=.3):(a.pointLight.decay=1,a.renderer.physicallyCorrectLights=!1),a.pointLight.position.set(0,0,0),a.scene.add(a.pointLight),a.ambientLight=new P.a(16777215,t),a.scene.add(a.ambientLight),!a.options.trueScale){e.next=14;break}return e.next=11,a.renderRealisticSolarSystem();case 11:(n=a.camera.position).set.apply(n,Object(S.a)(a.cameraInitialPosition)),e.next=17;break;case 14:return e.next=16,a.renderSolarSystem();case 16:(s=a.camera.position).set.apply(s,Object(S.a)(a.cameraInitialPosition)).divideScalar(500);case 17:for(r=a.bodies.filter((function(e){return e.params.entityType===i.Planet})),o=a.bodies.filter((function(e){return e.params.entityType===i.Star}))[0],a.guiViewActionsFolder=a.gui.addFolder("View Options"),a.guiViewActionsFolder.open(),a.guiViewActionsFolder.add(a.options,"followPlanetName",[o.params.name].concat(Object(S.a)(r.map((function(e){return e.params.name}))))).name("Centre of View").onChange(a.onFollowPlanetNameChange),a.guiViewActionsFolder.add(a.options,"trueScale").name("True Scale").onChange(a.init),a.guiViewActionsFolder.add(a.options,"showOrbits").name("Orbits").onChange(a.toggleOrbits),a.guiViewActionsFolder.add(a.options,"showPlanetLabels").name("Labels"),a.guiViewActionsFolder.add(a.options,"showAsteroidBelts").name("Asteroid Belt").onChange(a.toggleAsteroidBelts),a.guiViewActionsFolder.add(a.options,"showStats").name("Stats").onChange(a.handleShowStatsChange),a.guiPlanetsFolder=a.gui.addFolder("Planets"),a.guiPlanetsFolder.open(),a.guiPlanetsFolder.add(a.buttonHandlers,"resetView").name("Reset View"),l=0;l<r.length;l++)c=r[l],a.guiPlanetsFolder.add(c,"show").name("#".concat(l+1,": ").concat(c.params.name));a.isRunning=!0;case 32:case"end":return e.stop()}}),e)}))),this.animate=function(){if(a.isRunning){if(requestAnimationFrame(a.animate),a.bodies.forEach((function(e){e.animate(a.clock,a.options.simulationSpeed/2,a.camera,a.options.showPlanetLabels&&a.showPlanetId!==e.params.id)})),a.options.showStats&&a.stats.update(),a.showPlanetId>-1){var e=a.bodies.find((function(e){return e.params.id===a.showPlanetId}));if(e&&a.cameraReachedTarget){e.sphere.getWorldPosition(a.planetPositionVector);var t=a.planetPositionVector,i=t.x,n=t.y,s=t.z;a.camera.position.set(i+5*e.radius,n,s+10*e.radius),a.cameraLookAtTarget.set(i,n,s),a.camera.lookAt(a.cameraLookAtTarget)}}else if("Star 1"!==a.options.followPlanetName){var r=a.bodies.find((function(e){return e.params.name===a.options.followPlanetName}));if(r){r.sphere.getWorldPosition(a.planetPositionVector);var o=a.planetPositionVector,l=o.x,c=o.y,h=o.z;a.orbitControls.target.set(l,c,h),a.orbitControls.update()}}Object(j.c)(),a.renderer.render(a.scene,a.camera)}},this.clearScene=function(){var e,t;a.isRunning=!1;try{a.gui.removeFolder(a.guiViewActionsFolder),a.gui.removeFolder(a.guiPlanetsFolder),a.guiViewActionsFolder.destroy()}catch(s){}null===(e=a.ambientLight)||void 0===e||e.dispose(),null===(t=a.pointLight)||void 0===t||t.dispose();var i,n=Object(v.a)(a.bodies);try{for(n.s();!(i=n.n()).done;){i.value.dispose()}}catch(r){n.e(r)}finally{n.f()}a.bodies=[],a.scene.clear(),a.renderer.render(a.scene,a.camera)},this.resetView=function(){var e,t;(a.showPlanetId=-1,a.options.trueScale)?(e=a.cameraPositionVector).set.apply(e,Object(S.a)(a.cameraInitialPosition)):(t=a.cameraPositionVector).set.apply(t,Object(S.a)(a.cameraInitialPosition)).divideScalar(500);new j.b(a.camera.position).to(a.cameraPositionVector).duration(Se).easing(j.a.Quintic.InOut).start(),new j.b(a.cameraLookAtTarget).to(new P.H(0,0,0)).duration(Se).easing(j.a.Quintic.InOut).onUpdate((function(){return a.camera.lookAt(a.cameraLookAtTarget)})).start(),a.onSelectPlanet&&a.onSelectPlanet(void 0),a.orbitControls.update()},this.handleShowStatsChange=function(){a.options.showStats?a.stats.dom.style.display="initial":a.stats.dom.style.display="none"},this.handleShowPlanet=function(e){a.showPlanetId=e;var t=a.bodies.find((function(e){return e.params.id===a.showPlanetId}));if(t){t.sphere.getWorldPosition(a.planetPositionVector);var i=a.planetPositionVector,n=i.x,s=i.y,r=i.z,o={x:n+5*t.radius,y:s,z:r+10*t.radius};a.cameraReachedTarget=!1;var l=new j.b(a.camera.position).to(o).duration(Se).easing(j.a.Quintic.InOut).start().onUpdate((function(){t.sphere.getWorldPosition(a.planetPositionVector);var e=a.planetPositionVector,i=e.x,n=e.y,s=e.z,r={x:i+5*t.radius,y:n,z:s+10*t.radius};l.to(r)})).onComplete((function(){a.cameraReachedTarget=!0}));new j.b(a.cameraLookAtTarget).to(a.planetPositionVector).duration(Se).easing(j.a.Cubic.Out).onUpdate((function(){return a.camera.lookAt(a.cameraLookAtTarget)})).start()}if(a.onSelectPlanet){var c=a.solarSystem.stars[0].satellites.find((function(t){return t.id===e}));a.onSelectPlanet(c)}},this.toggleOrbits=function(){var e,t=Object(v.a)(a.bodies);try{for(t.s();!(e=t.n()).done;){var i=e.value;i.orbit&&(i.orbit.visible=!i.orbit.visible)}}catch(n){t.e(n)}finally{t.f()}},this.toggleAsteroidBelts=function(){var e,t=a.bodies.filter((function(e){return e.params.entityType===i.AsteroidBelt})),n=Object(v.a)(t);try{for(n.s();!(e=n.n()).done;){var s=e.value;s.entity.visible=!s.entity.visible}}catch(r){n.e(r)}finally{n.f()}},this.onFollowPlanetNameChange=function(){"Star 1"===a.options.followPlanetName&&(a.orbitControls.target.set(0,0,0),a.orbitControls.update())},this.renderRealisticSolarSystem=Object(k.a)(w.a.mark((function e(){var t,n,s,r,o,l,c,h,u,d;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=.001,n=Object(v.a)(a.solarSystem.stars),e.prev=2,n.s();case 4:if((s=n.n()).done){e.next=23;break}return r=s.value,o=r.radius*t,l=r.orbitRadius*t,c=r.orbitSpeed*t,h=new fe(o,Object(f.a)(Object(f.a)({},r),{},{colour:new P.g(16763424),orbitRadius:l,orbitSpeed:c})),e.next=12,h.create();case 12:a.bodies.push(h),a.scene.add(h.entity),u=w.a.mark((function e(n){var s,o,l,c,u,d,p,m,g,b,x,k,O,j,A,C;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.satellites[n],o=s.radius*t,l=s.orbitRadius*t,c=s.orbitSpeed*t,u=a.bodies.find((function(e){return e.params.id===s.orbitEntityId})),s.entityType!==i.Planet){e.next=38;break}return d=Object(f.a)(Object(f.a)({},s),{},{orbitEntity:u,orbitRadius:l,orbitSpeed:c,hasLabel:!0,onShow:a.handleShowPlanet}),p=2===n?new xe(o,d):new ye(o,d),e.next=10,p.create();case 10:m=Object(v.a)(s.satellites),e.prev=11,m.s();case 13:if((g=m.n()).done){e.next=26;break}return b=g.value,x=b.radius*t,k=b.orbitRadius*t,O=b.orbitSpeed*t,j=p,A=new be(x,Object(f.a)(Object(f.a)({},b),{},{colour:b.rgb?Object(y.a)(P.g,Object(S.a)(b.rgb)):new P.g(1,1,1),orbitEntity:j,orbitRadius:k,orbitSpeed:O})),e.next=22,A.create();case 22:a.bodies.push(A),p.entity.add(A.entity);case 24:e.next=13;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(11),m.e(e.t0);case 31:return e.prev=31,m.f(),e.finish(31);case 34:a.bodies.push(p),a.scene.add(p.entity),e.next=44;break;case 38:if(s.entityType!==i.AsteroidBelt){e.next=44;break}return C=new we(4*s.radius,Object(f.a)(Object(f.a)({},s),{},{colour:new P.g(.8,.8,.8),orbitRadius:l,orbitEntity:h,orbitSpeed:c})),e.next=42,C.create();case 42:a.bodies.push(C),a.scene.add(C.entity);case 44:case"end":return e.stop()}}),e,null,[[11,28,31,34]])})),d=0;case 16:if(!(d<r.satellites.length)){e.next=21;break}return e.delegateYield(u(d),"t0",18);case 18:d++,e.next=16;break;case 21:e.next=4;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(2),n.e(e.t1);case 28:return e.prev=28,n.f(),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[2,25,28,31]])}))),this.renderSolarSystem=Object(k.a)(w.a.mark((function e(){var t,n,s,r,o,l,c,h,u,d,p,m,g,b,x,k,O,j,A,R,M,T,L;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=.001,n=Object(v.a)(a.solarSystem.stars),e.prev=2,n.s();case 4:if((s=n.n()).done){e.next=27;break}return r=s.value,o=r.radius*t,l=r.orbitRadius*t,c=r.orbitSpeed*t,h=new fe(o,Object(f.a)(Object(f.a)({},r),{},{orbitRadius:l,orbitSpeed:c,colour:new P.g(16763424)})),e.next=12,h.create();case 12:a.bodies.push(h),a.scene.add(h.entity),u=C()(r.satellites),d=Object(v.a)(u.filter((function(e){return e.entityType===i.Planet})));try{for(d.s();!(p=d.n()).done;){(m=p.value).radius*=4,g=Object(v.a)(m.satellites);try{for(g.s();!(b=g.n()).done;)(x=b.value).radius*=2,x.orbitSpeed*=2,x.orbitRadius*=2}catch(H){g.e(H)}finally{g.f()}}}catch(H){d.e(H)}finally{d.f()}for(k=0;k<u.length;k++)O=u[k],j=O.satellites.length?O.satellites[O.satellites.length-1].orbitRadius:0,0===k?O.orbitRadius=2*r.radius+2*j:(A=u[k-1],R=A.satellites.length?A.satellites[A.satellites.length-1].orbitRadius:.2*A.orbitRadius,O.orbitRadius=A.orbitRadius+R+j,M=(O.orbitRadius-A.orbitRadius)/r.satellites[r.satellites.length-1].orbitRadius,O.orbitRadius+=M*O.orbitRadius*.5);T=w.a.mark((function e(n){var s,r,o,l,c,d,p,m,g,b,x,k,O,j,A,C;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=u[n],r=s.radius*t,o=s.orbitRadius*t,l=s.orbitSpeed*t,c=a.bodies.find((function(e){return e.params.id===s.orbitEntityId})),s.entityType!==i.Planet){e.next=38;break}return d=Object(f.a)(Object(f.a)({},s),{},{orbitEntity:c,orbitRadius:o,orbitSpeed:l,hasLabel:!0,onShow:a.handleShowPlanet}),p=2===n?new xe(r,d):new ye(r,d),e.next=10,p.create();case 10:m=Object(v.a)(s.satellites),e.prev=11,m.s();case 13:if((g=m.n()).done){e.next=26;break}return b=g.value,x=b.radius*t,k=b.orbitRadius*t,O=b.orbitSpeed*t*3,j=p,A=new be(x,Object(f.a)(Object(f.a)({},b),{},{colour:b.rgb?Object(y.a)(P.g,Object(S.a)(b.rgb)):new P.g(1,1,1),orbitEntity:j,orbitRadius:k,orbitSpeed:O})),e.next=22,A.create();case 22:a.bodies.push(A),p.entity.add(A.entity);case 24:e.next=13;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(11),m.e(e.t0);case 31:return e.prev=31,m.f(),e.finish(31);case 34:a.bodies.push(p),a.scene.add(p.entity),e.next=44;break;case 38:if(s.entityType!==i.AsteroidBelt){e.next=44;break}return C=new we(s.radius*t,Object(f.a)(Object(f.a)({},s),{},{colour:new P.g(.5,.5,.5),orbitRadius:o,orbitEntity:h,orbitSpeed:l,itemCount:.2*Number(s.itemCount)})),e.next=42,C.create();case 42:a.bodies.push(C),a.scene.add(C.entity);case 44:case"end":return e.stop()}}),e,null,[[11,28,31,34]])})),L=0;case 20:if(!(L<u.length)){e.next=25;break}return e.delegateYield(T(L),"t0",22);case 22:L++,e.next=20;break;case 25:e.next=4;break;case 27:e.next=32;break;case 29:e.prev=29,e.t1=e.catch(2),n.e(e.t1);case 32:return e.prev=32,n.f(),e.finish(32);case 35:case"end":return e.stop()}}),e,null,[[2,29,32,35]])}))),this.solarSystem=new ce(this.options.seed).generate(),this.scene=new P.y,this.scene.background=(new P.g).setHex(0);var n=new P.h;this.spaceTexture=n.load(["assets/kurt/space_ft.png","assets/kurt/space_bk.png","assets/kurt/space_up.png","assets/kurt/space_dn.png","assets/kurt/space_rt.png","assets/kurt/space_lf.png"]),this.scene.background=this.spaceTexture,this.camera=new P.d,this.camera=new P.v(25,window.innerWidth/window.innerHeight,50,1e10),this.cameraInitialPosition=[0,6*this.solarSystem.stars[0].radius,32*this.solarSystem.stars[0].radius],(t=this.camera.position).set.apply(t,Object(S.a)(this.cameraInitialPosition)),this.camera.lookAt(this.cameraLookAtTarget),this.renderer=new P.I({powerPreference:"high-performance",antialias:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.shadowMap.enabled=!0,document.body.appendChild(this.renderer.domElement),this.orbitControls=new R.a(this.camera,this.renderer.domElement),this.orbitControls.enableDamping=!0,this.orbitControls.update(),this.stats=new M.a,document.body.appendChild(this.stats.dom),this.gui=new T.a,this.gui.width=300;var s=this.gui.add(this.buttonHandlers,"newSeed").name("Generate new system");s.domElement.parentElement&&(s.domElement.parentElement.id="new-seed-button"),this.gui.add(this.options,"seed").name("Seed").onFinishChange(this.buttonHandlers.changeSeed),this.gui.add(this.options,"simulationSpeed",0,20,.1).name("Simulation Speed")}})}),document.getElementById("root"))}},[[354,1,2]]]);
//# sourceMappingURL=main.aaced874.chunk.js.map